import{d as p,c as i,w as B,u as _,o as g,a as m,h as l,l as x,B as I,C as R,e as w,D,E as L,_ as S,G as E,H as d,L as $,J as A,K as P}from"./index-89374393.js";import{R as T,g as V}from"./blog-f64ed5e5.js";import{u as b}from"./useFetchData-4d762871.js";const k=o=>(I("data-v-81e90130"),o=o(),R(),o),q={class:"blogCategory-container"},N=k(()=>w("h2",null,"文章分类",-1)),F=p({__name:"BlogCategory",setup(o){const s=D(),n=L(),r=async()=>await V();let{dataRef:a,isLoadingRef:y}=b(r,[]);const h=i(()=>n.query.limit||10),v=i(()=>n.params.categoryId||-1),f=i(()=>{let e=0;for(let t=0;t<a.value.length;t++)e+=a.value[t].articleCount;return[{name:"全部",aside:`${e}篇`,id:-1,articleCount:e},...a.value].map(t=>({...t,isSelected:+v.value===t.id,aside:`${t.articleCount}篇`}))}),C=e=>{const c={page:1,limit:h.value};e.id==-1?s.push({name:"Blog",query:c}):s.push({name:"BlogCategory",query:c,params:{categoryId:e.id}})};return(e,c)=>{const u=x("loading");return B((g(),m("div",q,[N,l(T,{list:_(f),onSelect:C},null,8,["list"])])),[[u,_(y)]])}}});const G=S(F,[["__scopeId","data-v-81e90130"]]),H={class:"blog-container"},j=p({__name:"index",setup(o){function s(r){return new Promise(a=>{setTimeout(()=>{a(null)},r)})}const n=E({loader:async()=>(s(2e3),A(()=>import("./BlogList-b30035fa.js"),["assets/BlogList-b30035fa.js","assets/index-89374393.js","assets/index-07676f2a.css","assets/useFetchData-4d762871.js","assets/blog-f64ed5e5.js","assets/blog-0ef690bb.css","assets/formatDate-8ee1ee0b.js","assets/useMainScroll-baefc7ec.js","assets/BlogList-b7ca16af.css"])),loadingComponent:P});return(r,a)=>(g(),m("div",H,[l($,null,{default:d(()=>[l(_(n))]),right:d(()=>[l(G,{class:"cate"})]),_:1})]))}});export{j as default};
